<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Insert time series rows with regularly spaced timestamps — pad_by_time • timetk</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Insert time series rows with regularly spaced timestamps — pad_by_time" />
<meta property="og:description" content="The easiest way to fill in missing timestamps or convert to a more
granular period (e.g. quarter to month). Wraps the padr::pad() function
for padding tibbles." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-76139189-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76139189-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">timetk</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.6.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/TK04_Plotting_Time_Series.html">Getting Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Visualization</li>
    <li>
      <a href="../articles/TK04_Plotting_Time_Series.html">Plotting Time Series</a>
    </li>
    <li>
      <a href="../articles/TK05_Plotting_Seasonality_and_Correlation.html">Plotting Seasonality and Correlation</a>
    </li>
    <li>
      <a href="../articles/TK08_Automatic_Anomaly_Detection.html">Automatic Anomaly Detection</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Machine Learning</li>
    <li>
      <a href="../articles/TK03_Forecasting_Using_Time_Series_Signature.html">Time Series Machine Learning</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Data Wrangling</li>
    <li>
      <a href="../articles/TK07_Time_Series_Data_Wrangling.html">Time Series Data Wrangling</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Time Series Fundamentals</li>
    <li>
      <a href="../articles/TK01_Working_With_Time_Series_Index.html">What is the Time Series Signature?</a>
    </li>
    <li>
      <a href="../articles/TK06_Automatic_Frequency_And_Trend_Selection.html">Automatic Frequency Detection</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Sequences &amp; Data Structures</li>
    <li>
      <a href="../articles/TK02_Time_Series_Date_Sequences.html">Intelligent Date &amp; Time Sequences</a>
    </li>
    <li>
      <a href="../articles/TK00_Time_Series_Coercion.html">Time Series Conversion (ts, zoo, &amp; xts)</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    API
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">API Functions</li>
    <li>
      <a href="../reference/index.html">
        <span class="fas fa-home"></span>
         
        Function Reference
      </a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Change History</li>
    <li>
      <a href="../news/index.html">News</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Ecosystem
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Forecast</li>
    <li>
      <a href="https://business-science.github.io/modeltime/">Modeltime (Forecasting)</a>
    </li>
    <li>
      <a href="https://business-science.github.io/timetk/">TimeTK (Time Series Analysis)</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Improve</li>
    <li>
      <a href="https://business-science.github.io/modeltime.ensemble/">Modeltime Ensemble (Blending Forecasts)</a>
    </li>
    <li>
      <a href="https://business-science.github.io/modeltime.resample/">Modeltime Resample (Backtesting)</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Scale</li>
    <li>
      <a href="https://business-science.github.io/modeltime.h2o/">Modeltime H2O (AutoML)</a>
    </li>
    <li>
      <a href="https://business-science.github.io/modeltime.gluonts/">Modeltime GluonTS (Deep Learning)</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://university.business-science.io/p/ds4b-203-r-high-performance-time-series-forecasting/">
    <span class="fas fa-graduation-cap"></span>
     
    Learn
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/business-science/timetk">
    <span class="fas fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Insert time series rows with regularly spaced timestamps</h1>
    <small class="dont-index">Source: <a href='https://github.com/business-science/timetk/blob/master/R/dplyr-pad_by_time.R'><code>R/dplyr-pad_by_time.R</code></a></small>
    <div class="hidden name"><code>pad_by_time.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The easiest way to fill in missing timestamps or convert to a more
granular period (e.g. quarter to month). Wraps the <code><a href='https://rdrr.io/pkg/padr/man/pad.html'>padr::pad()</a></code> function
for padding tibbles.</p>
    </div>

    <pre class="usage"><span class='fu'>pad_by_time</span><span class='op'>(</span>
  <span class='va'>.data</span>,
  <span class='va'>.date_var</span>,
  .by <span class='op'>=</span> <span class='st'>"auto"</span>,
  .pad_value <span class='op'>=</span> <span class='cn'>NA</span>,
  .fill_na_direction <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"none"</span>, <span class='st'>"down"</span>, <span class='st'>"up"</span>, <span class='st'>"downup"</span>, <span class='st'>"updown"</span><span class='op'>)</span>,
  .start_date <span class='op'>=</span> <span class='cn'>NULL</span>,
  .end_date <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.data</th>
      <td><p>A tibble with a time-based column.</p></td>
    </tr>
    <tr>
      <th>.date_var</th>
      <td><p>A column containing date or date-time values to pad</p></td>
    </tr>
    <tr>
      <th>.by</th>
      <td><p>Either "auto", a time-based frequency like "year", "month", "day", "hour", etc,
or a time expression like "5 min", or "7 days". See Details.</p></td>
    </tr>
    <tr>
      <th>.pad_value</th>
      <td><p>Fills in padded values. Default is <code>NA</code>.</p></td>
    </tr>
    <tr>
      <th>.fill_na_direction</th>
      <td><p>Users can provide an <code>NA</code> fill strategy using <code><a href='https://tidyr.tidyverse.org/reference/fill.html'>tidyr::fill()</a></code>.
Possible values: <code>'none'</code>, <code>'down'</code>, <code>'up'</code>, <code>'downup'</code>, <code>'updown'</code>. Default: <code>'none'</code></p></td>
    </tr>
    <tr>
      <th>.start_date</th>
      <td><p>Specifies the start of the padded series.
If NULL it will use the lowest value of the input variable.</p></td>
    </tr>
    <tr>
      <th>.end_date</th>
      <td><p>Specifies the end of the padded series.
If NULL it will use the highest value of the input variable.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><strong>Padding Missing Observations</strong></p>
<p>The most common use case for <code>pad_by_time()</code> is to add rows where timestamps
are missing. This could be from sales data that have missing values on weekends and holidays.
Or it could be high frequency data where observations are irregularly spaced and should be
reset to a regular frequency.</p>
<p><strong>Going from Low to High Frequency</strong></p>
<p>The second use case is going from a low frequency (e.g. day) to high frequency (e.g. hour).
This is possible by supplying a higher frequency to <code>pad_by_time()</code>.</p>
<p><strong>Interval, .by</strong></p>
<p>Padding can be applied in the following ways:</p><ul>
<li><p><code>.by = "auto"</code> - <code>pad_by_time()</code> will detect the time-stamp frequency and apply padding.</p></li>
<li><p>The eight intervals in are: year, quarter, month, week, day, hour, min, and sec.</p></li>
<li><p>Intervals like 5 minutes, 6 hours, 10 days are possible.</p></li>
</ul>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
<ul>
<li><p>This function wraps the <code><a href='https://rdrr.io/pkg/padr/man/pad.html'>padr::pad()</a></code> function developed by Edwin Thoen.</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Imputation:</p><ul>
<li><p><code><a href='ts_impute_vec.html'>ts_impute_vec()</a></code> - Impute missing values for time series.</p></li>
</ul>

<p>Time-Based dplyr functions:</p><ul>
<li><p><code><a href='summarise_by_time.html'>summarise_by_time()</a></code> - Easily summarise using a date column.</p></li>
<li><p><code><a href='mutate_by_time.html'>mutate_by_time()</a></code> - Simplifies applying mutations by time windows.</p></li>
<li><p><code>pad_by_time()</code> - Insert time series rows with regularly spaced timestamps</p></li>
<li><p><code><a href='filter_by_time.html'>filter_by_time()</a></code> - Quickly filter using date ranges.</p></li>
<li><p><code><a href='filter_period.html'>filter_period()</a></code> - Apply filtering expressions inside periods (windows)</p></li>
<li><p><code><a href='slice_period.html'>slice_period()</a></code> - Apply slice inside periods (windows)</p></li>
<li><p><code><a href='condense_period.html'>condense_period()</a></code> - Convert to a different periodicity</p></li>
<li><p><code><a href='between_time.html'>between_time()</a></code> - Range detection for date or date-time sequences.</p></li>
<li><p><code><a href='slidify.html'>slidify()</a></code> - Turn any function into a sliding (rolling) function</p></li>
</ul>
</div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/business-science/tidyquant'>tidyquant</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/business-science/timetk'>timetk</a></span><span class='op'>)</span>

<span class='co'># Create a quarterly series with 1 missing value</span>
<span class='va'>missing_data_tbl</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span>
    date <span class='op'>=</span> <span class='fu'><a href='tk_make_timeseries.html'>tk_make_timeseries</a></span><span class='op'>(</span><span class='st'>"2014-01-01"</span>, <span class='st'>"2015-01-01"</span>, by <span class='op'>=</span> <span class='st'>"quarter"</span><span class='op'>)</span>,
    value <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>
<span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/slice.html'>slice</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>4</span><span class='op'>)</span> <span class='co'># Lose the 4th quarter on purpose</span>
<span class='va'>missing_data_tbl</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 4 x 2</span><span>
#&gt;   date       value
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> 2014-01-01     1
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> 2014-04-01     2
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> 2014-07-01     3
#&gt; </span><span style='color: #BCBCBC;'>4</span><span> 2015-01-01     5</div><div class='input'>

<span class='co'># Detects missing quarter, and pads the missing regularly spaced quarter with NA</span>
<span class='va'>missing_data_tbl</span> <span class='op'>%&gt;%</span> <span class='fu'>pad_by_time</span><span class='op'>(</span><span class='va'>date</span>, .by <span class='op'>=</span> <span class='st'>"quarter"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: The `.dots` argument of `group_by()` is deprecated as of dplyr 1.0.0.</span></div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 5 x 2</span><span>
#&gt;   date       value
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> 2014-01-01     1
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> 2014-04-01     2
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> 2014-07-01     3
#&gt; </span><span style='color: #BCBCBC;'>4</span><span> 2014-10-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'>5</span><span> 2015-01-01     5</div><div class='input'>
<span class='co'># Can specify a shorter period. This fills monthly.</span>
<span class='va'>missing_data_tbl</span> <span class='op'>%&gt;%</span> <span class='fu'>pad_by_time</span><span class='op'>(</span><span class='va'>date</span>, .by <span class='op'>=</span> <span class='st'>"month"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 13 x 2</span><span>
#&gt;    date       value
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> 2014-01-01     1
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> 2014-02-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> 2014-03-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> 2014-04-01     2
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> 2014-05-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> 2014-06-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> 2014-07-01     3
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> 2014-08-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> 2014-09-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> 2014-10-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> 2014-11-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'>12</span><span> 2014-12-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'>13</span><span> 2015-01-01     5</div><div class='input'>
<span class='co'># Can let pad_by_time() auto-detect date and period</span>
<span class='va'>missing_data_tbl</span> <span class='op'>%&gt;%</span> <span class='fu'>pad_by_time</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>.date_var is missing. Using: date</span></div><div class='output co'>#&gt; <span class='message'>pad applied on the interval: quarter</span></div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 5 x 2</span><span>
#&gt;   date       value
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> 2014-01-01     1
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> 2014-04-01     2
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> 2014-07-01     3
#&gt; </span><span style='color: #BCBCBC;'>4</span><span> 2014-10-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'>5</span><span> 2015-01-01     5</div><div class='input'>
<span class='co'># Can specify a .pad_value</span>
<span class='va'>missing_data_tbl</span> <span class='op'>%&gt;%</span> <span class='fu'>pad_by_time</span><span class='op'>(</span><span class='va'>date</span>, .by <span class='op'>=</span> <span class='st'>"quarter"</span>, .pad_value <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 5 x 2</span><span>
#&gt;   date       value
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> 2014-01-01     1
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> 2014-04-01     2
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> 2014-07-01     3
#&gt; </span><span style='color: #BCBCBC;'>4</span><span> 2014-10-01     0
#&gt; </span><span style='color: #BCBCBC;'>5</span><span> 2015-01-01     5</div><div class='input'>
<span class='co'># Can then impute missing values</span>
<span class='va'>missing_data_tbl</span> <span class='op'>%&gt;%</span>
    <span class='fu'>pad_by_time</span><span class='op'>(</span><span class='va'>date</span>, .by <span class='op'>=</span> <span class='st'>"quarter"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>value <span class='op'>=</span> <span class='fu'><a href='ts_impute_vec.html'>ts_impute_vec</a></span><span class='op'>(</span><span class='va'>value</span>, period <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 5 x 2</span><span>
#&gt;   date       value
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> 2014-01-01     1
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> 2014-04-01     2
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> 2014-07-01     3
#&gt; </span><span style='color: #BCBCBC;'>4</span><span> 2014-10-01     4
#&gt; </span><span style='color: #BCBCBC;'>5</span><span> 2015-01-01     5</div><div class='input'>
<span class='co'># Can specify a custom .start_date and .end_date</span>
<span class='va'>missing_data_tbl</span> <span class='op'>%&gt;%</span>
   <span class='fu'>pad_by_time</span><span class='op'>(</span><span class='va'>date</span>, .by <span class='op'>=</span> <span class='st'>"quarter"</span>, .start_date <span class='op'>=</span> <span class='st'>"2013"</span>, .end_date <span class='op'>=</span> <span class='st'>"2015-07-01"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 11 x 2</span><span>
#&gt;    date       value
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> 2013-01-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> 2013-04-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> 2013-07-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> 2013-10-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> 2014-01-01     1
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> 2014-04-01     2
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> 2014-07-01     3
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> 2014-10-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> 2015-01-01     5
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> 2015-04-01    </span><span style='color: #BB0000;'>NA</span><span>
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> 2015-07-01    </span><span style='color: #BB0000;'>NA</span><span></div><div class='input'>
<span class='co'># Can specify a tidyr::fill() direction</span>
<span class='va'>missing_data_tbl</span> <span class='op'>%&gt;%</span>
   <span class='fu'>pad_by_time</span><span class='op'>(</span><span class='va'>date</span>, .by <span class='op'>=</span> <span class='st'>"quarter"</span>,
               .fill_na_direction <span class='op'>=</span> <span class='st'>"downup"</span>,
               .start_date <span class='op'>=</span> <span class='st'>"2013"</span>, .end_date <span class='op'>=</span> <span class='st'>"2015-07-01"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 11 x 2</span><span>
#&gt;    date       value
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> 2013-01-01     1
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> 2013-04-01     1
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> 2013-07-01     1
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> 2013-10-01     1
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> 2014-01-01     1
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> 2014-04-01     2
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> 2014-07-01     3
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> 2014-10-01     3
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> 2015-01-01     5
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> 2015-04-01     5
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> 2015-07-01     5</div><div class='input'>
<span class='co'># --- GROUPS ----</span>

<span class='co'># Apply standard NA padding to groups</span>
<span class='va'>FANG</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>symbol</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'>pad_by_time</span><span class='op'>(</span>.by <span class='op'>=</span> <span class='st'>"day"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>.date_var is missing. Using: date</span></div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 5,836 x 8</span><span>
#&gt; </span><span style='color: #949494;'># Groups:   symbol [4]</span><span>
#&gt;    symbol date        open  high   low close    volume adjusted
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> FB     2013-01-02  27.4  28.2  27.4  28    69</span><span style='text-decoration: underline;'>846</span><span>400     28  
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> FB     2013-01-03  27.9  28.5  27.6  27.8  63</span><span style='text-decoration: underline;'>140</span><span>600     27.8
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> FB     2013-01-04  28.0  28.9  27.8  28.8  72</span><span style='text-decoration: underline;'>715</span><span>400     28.8
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> FB     2013-01-05  </span><span style='color: #BB0000;'>NA</span><span>    </span><span style='color: #BB0000;'>NA</span><span>    </span><span style='color: #BB0000;'>NA</span><span>    </span><span style='color: #BB0000;'>NA</span><span>          </span><span style='color: #BB0000;'>NA</span><span>     </span><span style='color: #BB0000;'>NA</span><span>  
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> FB     2013-01-06  </span><span style='color: #BB0000;'>NA</span><span>    </span><span style='color: #BB0000;'>NA</span><span>    </span><span style='color: #BB0000;'>NA</span><span>    </span><span style='color: #BB0000;'>NA</span><span>          </span><span style='color: #BB0000;'>NA</span><span>     </span><span style='color: #BB0000;'>NA</span><span>  
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> FB     2013-01-07  28.7  29.8  28.6  29.4  83</span><span style='text-decoration: underline;'>781</span><span>800     29.4
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> FB     2013-01-08  29.5  29.6  28.9  29.1  45</span><span style='text-decoration: underline;'>871</span><span>300     29.1
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> FB     2013-01-09  29.7  30.6  29.5  30.6 104</span><span style='text-decoration: underline;'>787</span><span>700     30.6
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> FB     2013-01-10  30.6  31.5  30.3  31.3  95</span><span style='text-decoration: underline;'>316</span><span>400     31.3
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> FB     2013-01-11  31.3  32.0  31.1  31.7  89</span><span style='text-decoration: underline;'>598</span><span>000     31.7
#&gt; </span><span style='color: #949494;'># … with 5,826 more rows</span><span></div><div class='input'>
<span class='co'># Apply filled padding to groups</span>
<span class='va'>FANG</span> <span class='op'>%&gt;%</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>symbol</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
    <span class='fu'>pad_by_time</span><span class='op'>(</span>.by <span class='op'>=</span> <span class='st'>"day"</span>, .fill_na_direction <span class='op'>=</span> <span class='st'>"down"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>.date_var is missing. Using: date</span></div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 5,836 x 8</span><span>
#&gt; </span><span style='color: #949494;'># Groups:   symbol [4]</span><span>
#&gt;    symbol date        open  high   low close    volume adjusted
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;date&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> FB     2013-01-02  27.4  28.2  27.4  28    69</span><span style='text-decoration: underline;'>846</span><span>400     28  
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> FB     2013-01-03  27.9  28.5  27.6  27.8  63</span><span style='text-decoration: underline;'>140</span><span>600     27.8
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> FB     2013-01-04  28.0  28.9  27.8  28.8  72</span><span style='text-decoration: underline;'>715</span><span>400     28.8
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> FB     2013-01-05  28.0  28.9  27.8  28.8  72</span><span style='text-decoration: underline;'>715</span><span>400     28.8
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> FB     2013-01-06  28.0  28.9  27.8  28.8  72</span><span style='text-decoration: underline;'>715</span><span>400     28.8
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> FB     2013-01-07  28.7  29.8  28.6  29.4  83</span><span style='text-decoration: underline;'>781</span><span>800     29.4
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> FB     2013-01-08  29.5  29.6  28.9  29.1  45</span><span style='text-decoration: underline;'>871</span><span>300     29.1
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> FB     2013-01-09  29.7  30.6  29.5  30.6 104</span><span style='text-decoration: underline;'>787</span><span>700     30.6
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> FB     2013-01-10  30.6  31.5  30.3  31.3  95</span><span style='text-decoration: underline;'>316</span><span>400     31.3
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> FB     2013-01-11  31.3  32.0  31.1  31.7  89</span><span style='text-decoration: underline;'>598</span><span>000     31.7
#&gt; </span><span style='color: #949494;'># … with 5,826 more rows</span><span></div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matt Dancho, Davis Vaughan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


